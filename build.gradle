buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath files('gradle/libs/gradle-witness.jar')
        classpath 'com.android.tools.build:gradle:2.2.3'
    }
}

allprojects {
    repositories {
        jcenter()
    }
}

project.ext.i2pVersion = '0.9.29'

configure([project(':core'), project(':webapp')]) {
    project.version = '0.4.6'

    project.afterEvaluate {
        jar {
            manifest {
                attributes 'Implementation-Version': project.version
            }
        }

        sourceCompatibility = 1.7
        targetCompatibility = 1.7
        // Set i2pBootClasspath=/path/to/rt.jar:/path/to/jce.jar in gradle.properties if needed
        if (i2pBootClasspath) {
            project.tasks.withType(AbstractCompile, { AbstractCompile ac ->
                ac.options.bootClasspath = i2pBootClasspath
            })
        }
    }
}
